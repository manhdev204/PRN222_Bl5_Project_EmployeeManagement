@model PRN222_BL5_Project_EmployeeManagement.Models.Account
@{
    ViewData["Title"] = "Edit Account";
    var roles = ViewBag.Roles as IEnumerable<PRN222_BL5_Project_EmployeeManagement.Models.Role>;
    var departments = ViewBag.Departments as IEnumerable<PRN222_BL5_Project_EmployeeManagement.Models.Department>;
}
<h2>Edit Account</h2>
<form method="post" asp-action="Edit" asp-controller="AdminAccounts">
    <input type="hidden" name="id" value="@Model.AccountId" />
    <div class="mb-3">
        <label class="form-label">Username</label>
        <input class="form-control" value="@Model.Username" disabled />
    </div>
    <div class="mb-3">
        <label class="form-label">Role</label>
        <select class="form-select" name="roleId" value="@Model.RoleId">
            @foreach (var r in roles!)
            {
                <option value="@r.RoleId" selected="@(r.RoleId == Model.RoleId)">@r.RoleName (@r.RoleId)</option>
            }
        </select>
    </div>
    <div class="mb-3">
        <label class="form-label">Department</label>
        <select class="form-select" name="departmentId" value="@Model.DepartmentId">
            <option value="">-- None --</option>
            @foreach (var d in departments!)
            {
                <option value="@d.DepartmentId" selected="@(d.DepartmentId == Model.DepartmentId)">@d.DepartmentName (@d.DepartmentId)</option>
            }
        </select>
    </div>
    <div class="mb-3 form-check">
        <input class="form-check-input" type="checkbox" name="deleteFlag" @(Model.DeleteFlag == true ? "checked" : "") />
        <label class="form-check-label">Delete Flag</label>
    </div>
    <button class="btn btn-primary" type="submit">Save</button>
    <a class="btn btn-secondary" asp-action="Index" asp-controller="AdminAccounts">Back</a>
</form>


